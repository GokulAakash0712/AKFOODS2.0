<div class="mt-5">
  <!-- <app-not-found
    [visible]="!food"
    notFoundMessage="Food Not Found!"
    resetLinkText="Back To Home"
  ></app-not-found> -->
</div>
<div class="container" *ngIf="food">
  <div class="row">
    <div class="col-lg-5">
      <div class="image">
        <img [src]="food.image" [alt]="food.name" />
      </div>
    </div>
    <div class="col-lg-5">
      <div class="content mt-5">
        <div class="name">
          <h2>
            <b>{{ food.name }}</b>
          </h2>
        </div>
        <div class="star">
          <app-star-rating
            [stars]="food.ratings ? food.ratings : 3.5"
            [size]="1.5"
          ></app-star-rating>
        </div>
        <div class="tags mt-3">
          <div class="tag">{{ food.tags }}</div>
        </div>
        <div class="price mt-3">
          Price: <b>{{ food.price | currency : "INR" }}</b>
        </div>
        <div class="button mt-3">
          <button class="btn" (click)="addToCart()">Add To Cart</button>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-5 mb-5">
    <div class="col-lg-5 mt-2">
      <div class="ratings">
        <h3 class="ms-3">Leave Your Rating</h3>
        <ul class="mt-3">
          <li
            *ngFor="let star of stars; let i = index"
            (click)="setRating(i + 1)"
          >
            <i
              class="fa"
              [ngClass]="
                i < currentRating ? 'fa-solid fa-star' : 'fa-regular fa-star'
              "
            ></i>
          </li>
        </ul>
        <div class="button ms-3">
          <button class="btn btn-rating" (click)="submitRating()">
            Submit
          </button>
        </div>
      </div>
    </div>
    <div class="col-lg-5">
      <div class="overall-rating mt-4 mt-lg-0">
        <h3>Overall Rating</h3>
        <div class="rating">
          <p>
            <b>{{ food.ratings ? food.ratings.toFixed(1) : 3.5 }}</b>
          </p>
        </div>
        <div class="star">
          <app-star-rating
            [stars]="food.ratings ? food.ratings : 3.5"
            [size]="1.5"
          ></app-star-rating>
        </div>

        <div class="individual-rating mt-3">
          <div class="progress-div">
            <p>5</p>
            <div class="progress mt-1 ms-2">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width]="getProgress(count5) + '%'"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
          </div>

          <div class="progress-div">
            <p>4</p>
            <div class="progress mt-1 ms-2">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width]="getProgress(count4) + '%'"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
          </div>

          <div class="progress-div">
            <p>3</p>
            <div class="progress mt-1 ms-2">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width]="getProgress(count3) + '%'"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
          </div>

          <div class="progress-div">
            <p>2</p>
            <div class="progress mt-1 ms-2">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width]="getProgress(count2) + '%'"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
          </div>

          <div class="progress-div">
            <p>1</p>
            <div class="progress mt-1 ms-2">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width]="getProgress(count1) + '%'"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
